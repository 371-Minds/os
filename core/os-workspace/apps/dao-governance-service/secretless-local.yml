# Secretless Broker Configuration for Local Testing
# Uses environment variables instead of UTS for local development
version: "2"

services:
  # Database service configuration
  dao-governance-db:
    connector: "tcp"
    listenOn: "tcp://0.0.0.0:5432"
    credentials:
      - name: "username"
        provider: "env"
        from: "DB_USERNAME"
      - name: "password"
        provider: "env"
        from: "DB_PASSWORD"
      - name: "host"
        provider: "env"
        from: "DB_HOST"
      - name: "port"
        provider: "env"
        from: "DB_PORT"

  # Novu API service configuration
  novu-api:
    connector: "http"
    listenOn: "tcp://0.0.0.0:8081"
    credentials:
      - name: "api_key"
        provider: "env"
        from: "NOVU_API_KEY"
      - name: "api_url"
        provider: "env"
        from: "NOVU_API_URL"

  # Blockchain RPC service configuration
  blockchain-rpc:
    connector: "http"
    listenOn: "tcp://0.0.0.0:8545"
    credentials:
      - name: "rpc_url"
        provider: "env"
        from: "BLOCKCHAIN_RPC_URL"
      - name: "api_key"
        provider: "env"
        from: "BLOCKCHAIN_API_KEY"
